<!DOCTYPE html
    PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../favicon.ico" />

    <title>Computer Graphics - Final Project</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/offcanvas.css" rel="stylesheet">
    <link href="resources/custom2014.css" rel="stylesheet">
    <link href="resources/twentytwenty.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <div class="container headerBar">
        <h1>Normal Maps (Roger, 5pt)</h1>
    </div>

    <div class="container contentWrapper">
        <div class="pageContent">

            <p>
                <!-- TODO: report problems, comments, and time spent...  -->
                For normal maps we can add extra detail by perturbing the shading normal by a normal from a texture.
                The normal maps are encoded as png's where whole normal range [-1,1] per dimension is encoded in the 
                color range [0,255]. This conversion is done once, when loading the image. 
                
                There are some numerical issues within this conversion, so our results will not look exactly the same as the reference.
                <br/>

                The normal map is stored in the shape base class similar to the albedo texture in the diffuse bsdf.
                After setting the hit information we apply the normal map. This method keeps the normal mapping generic.
                <br/>

                Below we can validate that this method retains the normal when the identity normal map is used. 
                Using a global normal map without conversion to the local shading normal is show to validate that the 
                mapping also retains the identity.

                <div class="twentytwenty-container">
                    <img src="images/normals/normals-identity.png" alt="Neutral normal map color=(0.5,0.5,1)" class="img-responsive">
                    <img src="images/normals/normals-identity-global.png" alt="Neutral global normal map color=(0.5,0.5,1)" class="img-responsive">
                    <img src="images/normals/normals-identity-ref.png" alt="No normal map" class="img-responsive">
                </div>

                <!-- TODO: Show test renders, decribe how the rendered image is correct? -->

                An example render
                <div class="twentytwenty-container">
                    <img src="images/normals/normals-test.png" alt="Neutral normal map color=(0.5,0.5,1)" class="img-responsive">
                    <img src="images/normals/normals-test-global-normals.png" alt="Neutral global normal map color=(0.5,0.5,1)" class="img-responsive">
                    <img src="images/normals/normals-test-ref.png" alt="No normal map" class="img-responsive">
                </div>
            </p>

            <!-- ================================================================= -->


        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="resources/bootstrap.min.js"></script>
    <script src="/js/offcanvas.js"></script>
    <script src="resources/jquery.event.move.js"></script>
    <script src="resources/jquery.twentytwenty.js"></script>


    <script>
        $(window).load(function () { $(".twentytwenty-container").twentytwenty({ default_offset_pct: 0.5 }); });
    </script>

</body>

</html>