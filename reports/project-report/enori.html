<!DOCTYPE html
    PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/favicon.ico" />

    <title>Computer Graphics - Final Project</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/offcanvas.css" rel="stylesheet">
    <link href="resources/twentytwenty.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <nav class="navbar bg-dark navbar-expand-lg navbar-dark fixed-top">
        <a class="navbar-brand" href="enori.html">ENori</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarContent" class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="enori.html">ENori</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMatthias" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Matthias
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMatthias">
                        <a class="dropdown-item" href="adaptive.html">Adaptive Sampling</a>
                        <a class="dropdown-item" href="disney.html">Disney BSDF</a>
                        <a class="dropdown-item" href="envmap.html">Environment Map Emitter</a>
                        <a class="dropdown-item" href="emitters.html">Extra Emitter</a>
                        <a class="dropdown-item" href="images.html">Images as Textures</a>
                        <a class="dropdown-item" href="denoising.html">Simple Denoising</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownRoger" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Roger
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownRoger">
                        <a class="dropdown-item" href="anisotropic.html">Anisotropic Phase Function</a>
                        <a class="dropdown-item" href="blender.html">Blender</a>
                        <a class="dropdown-item" href="dof.html">Depth of Field</a>
                        <a class="dropdown-item" href="emissive_medium.html">Emissive Participating Media</a>
                        <a class="dropdown-item" href="heterogenous_media.html">Hetergoenous Participating Media</a>
                        <a class="dropdown-item" href="normals.html">Normal Mapping</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container headerBar">
        <h1>ENori</h1>
    </div>

    <div class="container contentWrapper">
        <div class="pageContent">
            <h4>Nori? Enhanced Nori!</h4>
            <p>In order to have a better frontend for the current backend, we completely rewrote the nori GUI and
                implemented ENori - Enhanced Nori. Our new frontend allows the user to change nearly any(!) parameter
                from the xml input in real time and see the affects in no-time. This means, that for example a disney
                BSDF, which has 11 parameters, does not require a completely reload of the scene, but rather only a
                restart of the rendering (after applying the changes).</p>

            <h4>Dear ImGui</h4>
            ENori is based on <a href="#ref-1">[1]</a>. This allows us to create a custom GUI structure around the
            existing backend.

            <h4>Implementation Idea</h4>
            <p>The class "NoriObject" does exist in Nori. We extend this class by several functions, which all have to
                be implemented for each object which inherits from NoriObject. This allows us to implement a recursive
                strategy: Every child of the scene (whether it be the sampler, the camera or even a shape, emitter,
                denoiser, medium etc.) has those functions implemented. The aim of these functions is to add input
                objects to the frontend, in order that the user can change the internal parameters. The recursive
                approach is best explained with the example of a shape with a dielectric bsdf. The function to follow is
                getImGuiNodes, if you want to follow in the code. The wanted property editor should be drawn inside a
                window in the frontend. This editor get's invoked from within the frontend, where the recursion starts.
                The frontend then calls the functions on the scene class. This class has several children classes
                (sampler, shapes, emitters, camera, ...) and calls the functions for each child (or potentially for a
                list of children). Each scene-child forwards those function calls to its children, potentially adding
                some menu entries on the go. If we stay at our example, the dielectric bsdf from a shape, we would
                continue from the scene with the shapes vector. The scene calls the recursive functions for each shape
                individually, adding them to the master gui. Each shape has potential children (bsdf, emitter, normal
                map, medium) and calls the functions on those. For our example, this means that the bsdf is then chosen.
                Inside the dielectric bsdf (see src/bsdf/dielectric.bsdf), we see the function getImGuiNodes, which now
                implements the sliders for the two parameters.</p>
            <h4>Features</h4>
            <ul>
                <li>Property Editor</li>
                <li>Zooming / Translating</li>
                <li>Starting / Stopping of the current rendering</li>
                <li>Built-in tonemapping</li>
                <li>Built-in filemenu for opening/exporting</li>
            </ul>

            <h4>Slideshow</h4>
            <p>Enough talking about the implementation, let's show some images!</p>
            <div id="carouselControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="images/enori/nori_default.png" alt="ENori Startup">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/filemenu.png" alt="Filemenu">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/rendering.png" alt="Rendering">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/editor1.png" alt="Property Editor 1">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/editor2.png" alt="Property Editor 2">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/editor3.png" alt="Property Editor 3">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="images/enori/zoom.png" alt="Zooming">
                    </div>
                    
                </div>
                <a class="carousel-control-prev" href="#carouselControls" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselControls" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <h4>Implemented in:</h4>
            <ul>
                <li>include/nori/ImguiScreen.h</li>
                <li>src/utils/ImguiScreen.cpp</li>
                <li>Furthermore, nearly every file in include/nori/</li>
                <li>Furthermore, nearly every file in src/</li>
            </ul>

            <h4>References</h4>
            <p id="ref-1">[1] <a href="https://github.com/ocornut/imgui">https://github.com/ocornut/imgui</a></p>

        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="resources/bootstrap.min.js"></script>
    <script src="resources/jquery.event.move.js"></script>
    <script src="resources/jquery.twentytwenty.js"></script>


    <script>
        $(window).load(function () { $(".twentytwenty-container").twentytwenty({ default_offset_pct: 0.5 }); });
    </script>

</body>

</html>