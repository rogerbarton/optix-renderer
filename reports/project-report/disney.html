<!DOCTYPE html
    PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../favicon.ico" />

    <title>Computer Graphics - Final Project</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/offcanvas.css" rel="stylesheet">
    <link href="resources/twentytwenty.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <nav class="navbar bg-dark navbar-expand-lg navbar-dark fixed-top">
        <a class="navbar-brand" href="enori.html">ENori</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarContent" class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="enori.html">ENori</a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMatthias" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Matthias
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMatthias">
                        <a class="dropdown-item" href="adaptive.html">Adaptive Sampling</a>
                        <a class="dropdown-item active" href="disney.html">Disney BSDF</a>
                        <a class="dropdown-item" href="envmap.html">Environment Map Emitter</a>
                        <a class="dropdown-item" href="emitters.html">Extra Emitter</a>
                        <a class="dropdown-item" href="images.html">Images as Textures</a>
                        <a class="dropdown-item" href="denoising.html">Simple Denoising</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownRoger" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Roger
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownRoger">
                        <a class="dropdown-item" href="anisotropic.html">Anisotropic Phase Function</a>
                        <a class="dropdown-item" href="blender.html">Blender</a>
                        <a class="dropdown-item" href="dof.html">Depth of Field</a>
                        <a class="dropdown-item" href="emissive_medium.html">Emissive Participating Media</a>
                        <a class="dropdown-item" href="heterogenous_media.html">Hetergoenous Participating Media</a>
                        <a class="dropdown-item" href="normals.html">Normal Mapping</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container headerBar">
        <h1>Disney BSDF (Matthias, 15pt)</h1>
    </div>

    <div class="container contentWrapper">
        <div class="pageContent">
            <p>This implementation is based on <a href="#ref-1">[1]</a>.</p>
            <p>To verify the disney BSDF, I render each parameter with different values. The resulting images are
                compared against the image on <a
                    href="https://blog.selfshadow.com/publications/s2015-shading-course/burley/s2015_pbs_disney_bsdf_slides.pdf">these
                    slides (slide 3)</a>. All images are rendered with the Path MIS integartor and 512 samples per
                pixel.</p>
            <p>Altough many parameters are shown below, not all are validated here, because the requirement only states
                that we should include 5 parameters of disney. The parameters are validated in the section below, where
                I compare to Blender.</p>
            </p>

            <div class="twentytwenty-container">
                <img src="images/disney/baseline.png" alt="All 0" class="img-responsive">
                <img src="images/disney/default.png" alt="Default parameters" class="img-responsive">
            </div>

            <h4>Impact of Metallic</h4>
            <div class="twentytwenty-container">
                <img src="images/disney/metallic/metallic0.5.png" alt="Metallic 0.5" class="img-responsive">
                <img src="images/disney/metallic/metallic1.png" alt="Metallic 1.0" class="img-responsive">
            </div>

            <h4>Impact of Roughness</h4>
            <div class="twentytwenty-container">
                <img src="images/disney/roughness/roughness0.png" alt="Roughness 0" class="img-responsive">
                <img src="images/disney/roughness/roughness1.png" alt="Rougness 1" class="img-responsive">
            </div>

            <h4>Impact of Specular</h4>
            <div class="twentytwenty-container">
                <img src="images/disney/specular/specular0.png" alt="Specular 0" class="img-responsive">
                <img src="images/disney/specular/specular1.png" alt="Specular 1.0" class="img-responsive">
                <img src="images/disney/specular/specular0.33.png" alt="Specular 0.33" class="img-responsive">
                <img src="images/disney/specular/specular0.66.png" alt="Specular 0.66" class="img-responsive">
            </div>

            <h4>Impact of Clearcoat</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/default.png" alt="Default" class="img-responsive">
                <img src="images/disney/clearcoat/clearcoat1.png" alt="Clearcoat 1" class="img-responsive">
            </div>

            <h4>Impact of Clearcoat Gloss</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/default.png" alt="Default (clearcoat gloss 1)" class="img-responsive">
                <img src="images/disney/clearcoatGloss/clearcoatGloss0.png" alt="Clearcoat Gloss 0"
                    class="img-responsive">
            </div>

            <h4>Impact of Subsurface</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/default.png" alt="Default" class="img-responsive">
                <img src="images/disney/subsurface/subsurface1.png" alt="Subsurface 1" class="img-responsive">
            </div>

            <h4>Impact of Specular Tint</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/default.png" alt="Default (Specular 0.5)" class="img-responsive">
                <img src="images/disney/specularTint/specularTint1.png" alt="Specular Tint 1" class="img-responsive">
            </div>

            <h4>Impact of Sheen</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/default.png" alt="Default" class="img-responsive">
                <img src="images/disney/sheen/sheen1.png" alt="Sheen 1" class="img-responsive">
            </div>

            <h4>Impact of Sheen Tint</h4>
            <p></p>
            <div class="twentytwenty-container">
                <img src="images/disney/sheenTint/sheenTint0.png" alt="Sheen Tint 0" class="img-responsive">
                <img src="images/disney/sheenTint/sheenTint1.png" alt="Sheen Tint 1" class="img-responsive">
            </div>

            <h4>Validation by comparison to Blender</h4>
            <p>The following comparisons are all done with Blender 2.82a, using a Principle BSDF material. The scene was
                exactly copied over to nori. As an integrator I use Path MIS (Nori) and Path Tracing (Blender), both
                using 128 samples per pixel. This should ensure that the results are comparable. The scene was
                elluminated using an area light and the environment map.</p>
            <div class="twentytwenty-container">
                <img src="images/disney/blender/zero_blender.png" alt="Blender" class="img-responsive">
                <img src="images/disney/blender/zero_nori.png" alt="Nori" class="img-responsive">
            </div>
            <div class="twentytwenty-container">
                <img src="images/disney/blender/specular_blender.png" alt="Blender" class="img-responsive">
                <img src="images/disney/blender/specular_nori.png" alt="Nori" class="img-responsive">
            </div>
            <p>This last image shows a high anisotropic value. The right image (nori) shows strange looking aniso-blurrs
                (sometimes there is even a kink). This is because we are currently working on fixing the normal maps,
                which means that the normals are currently not correct for object files. But more generally, the
                anisotropic effect seems to be fine.</p>
            <div class="twentytwenty-container">
                <img src="images/disney/blender/aniso_blender.png" alt="Blender" class="img-responsive">
                <img src="images/disney/blender/aniso_nori.png" alt="Nori" class="img-responsive">
            </div>

            <!-- ================================================================= -->
            <h4>Implementation</h4>
            This implementation is done straightforward, using <a href="#ref-1">[1]</a>. This means, that we only have
            to extend the BSDF base class with the code given. For the input values which can be found on this page, we
            use however different ones: X and Y are easy, those are simply always the X and Y unit vectors,
            respectively. This is because the BSDF is always evaluated in local coordinates in Nori. Furthermore, we
            have L and V, where L is the incident light vector (in our case wi) and L the outgoing light direction (in
            our case wo). We use a cosine weighted hemisphere to sample the outgoing light direction. This makes
            calculating the probability very easy and get's rid of most of the terms (for example the otherwise needed
            change from radians to solid angles). Altough with the sample code from github, all parameters are
            implemented at once, not all are validated here. This is because it takes much time to render all images
            with all different values.

            <h4>Implemented in:</h4>
            <ul>
                <li>src/bsdf/disney.cpp</li>
            </ul>

            <h4 id="references">References</h4>
            <p id="ref-1">[1] <a
                    href="https://github.com/wdas/brdf/blob/main/src/brdfs/disney.brdf">https://github.com/wdas/brdf/blob/main/src/brdfs/disney.brdf</a>
            </p>

        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="resources/bootstrap.min.js"></script>
    <script src="resources/jquery.event.move.js"></script>
    <script src="resources/jquery.twentytwenty.js"></script>


    <script>
        $(window).load(function () { $(".twentytwenty-container").twentytwenty({ default_offset_pct: 0.5 }); });
    </script>

</body>

</html>