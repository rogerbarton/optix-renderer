<!DOCTYPE html
    PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/favicon.ico" />

    <title>Computer Graphics - Final Project</title>

    <link href="resources/bootstrap.min.css" rel="stylesheet">
    <link href="resources/offcanvas.css" rel="stylesheet">
    <link href="resources/twentytwenty.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <nav class="navbar bg-dark navbar-expand-lg navbar-dark fixed-top">
        <a class="navbar-brand" href="enori.html">ENori</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarContent" class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="enori.html">ENori</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMatthias" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Matthias
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMatthias">
                        <a class="dropdown-item" href="adaptive.html">Adaptive Sampling</a>
                        <a class="dropdown-item" href="disney.html">Disney BSDF</a>
                        <a class="dropdown-item" href="envmap.html">Environment Map Emitter</a>
                        <a class="dropdown-item" href="emitters.html">Extra Emitter</a>
                        <a class="dropdown-item" href="images.html">Images as Textures</a>
                        <a class="dropdown-item" href="denoising.html">Simple Denoising</a>
                    </div>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownRoger" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Roger
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownRoger">
                        <a class="dropdown-item active" href="anisotropic.html">Anisotropic Phase Function</a>
                        <a class="dropdown-item" href="blender.html">Blender</a>
                        <a class="dropdown-item active" href="dof.html">Depth of Field</a>
                        <a class="dropdown-item" href="emissive_medium.html">Emissive Participating Media</a>
                        <a class="dropdown-item" href="heterogenous_media.html">Hetergoenous Participating Media</a>
                        <a class="dropdown-item" href="normals.html">Normal Mapping</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container headerBar">
        <h1>Depth of Field (Roger, 5pt)</h1>
    </div>

    <div class="container contentWrapper">
        <div class="pageContent">

            <p>
                <!-- TODO: report problems, comments, and time spent...  -->
                This implementation was based on <a href="#ref-1">[1]</a> and modifies the ray generation for the
                camera model to simulate a thin lens and aperture of non-zero
                radius.
                In comparison to the pinhole camera model, we do not always sample the ray from the origin. Instead we
                pick a random point on the aperture. In the simple case this is
                a uniformly random point on the unit disc, but this can also be made to be something else.
                We then connect this random ray origin point to the place where the unperturbed pinhole camera ray would
                intersect the focal plane.
                <br />
                This gives us two new parameters to tweak: the focal length/distance and the aperture size/lens radius.
                Objects at the focal length will be in focus. Larger aperture sizes will increase the blurring effect
                for objects further away from the focal distance. This can be observed in the test images below.

                <!-- TODO: Show test renders, decribe how the rendered image is correct? -->
            </p>

            <h4>Table scene</h4>

            <div class="twentytwenty-container">
                <img src="images/dof/1024.png" alt="Mine" class="img-responsive">
                <img src="images/dof/dof-table-ref.jpg" alt="Reference" class="img-responsive">
            </div> <br>

            <h4>Implemented in:</h4>
            <ul>
                <li>include/nori/camera.h</li>
                <li>src/camera/perspective.cpp</li>
            </ul>

            <!-- ================================================================= -->

            <h4>References</h4>
            <p id="ref-1">[1] <a
                    href="http://www.pbr-book.org/3ed-2018/Camera_Models/Projective_Camera_Models.html#TheThinLensModelandDepthofField">pbr
                    book (Chp 6.2.3)</a>
        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="resources/bootstrap.min.js"></script>
    <script src="resources/jquery.event.move.js"></script>
    <script src="resources/jquery.twentytwenty.js"></script>


    <script>
        $(window).load(function () { $(".twentytwenty-container").twentytwenty({ default_offset_pct: 0.5 }); });
    </script>

</body>

</html>